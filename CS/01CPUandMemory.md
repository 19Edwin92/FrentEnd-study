## 01 CPU와 메모리 
<div width="100px">
<img src="https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2e7918b0-7a51-4130-87ba-f7785857cc76%2FUntitled.png?id=251490ca-7b74-4b16-bbf9-b6ea8db9ff26&table=block&spaceId=dd4171fc-f169-4b95-9f76-3f06e4679be0&width=1920&userId=290df094-395f-4e2e-b317-b853e9ec8330&cache=v2" width="100%" />
<div>

**CPU란**

컴퓨터 시스템에서 중앙 처리 장치로서, 프로그램의 명령어를 해석하고 실행하는 역할을 담당하며, CPU는 여러 개의 주요 구성 요소로 구성되어 있다. 이 중에는 CU(Control Unit), ALU(Arithmetic Logic Unit)가 있습니다</br>

<img src="https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff18c6534-a0ac-4503-8055-e97257375f1d%2FUntitled.png?id=f5ff9fb5-97a1-43a4-a927-f2aedab62dee&table=block&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=670&userId=&cache=v2" width="50%"/>
</br></br>

**CU(Control Unit)**
CU는 CPU의 구성 요소 중 하나로, 프로그램의 명령어를 해석하고 실행하기 위한 제어 신호를 생성한다. CU는 명령어를 메모리에서 가져와 해석하여 각각의 구성 요소에 필요한 동작을 지시한다. 쉽게 말해서 어떤 순서로 동작해야 하는지를 분석하고 지시하는 것이다. 

**ALU(Arithmetic Logic Unit)**

산술 연산과 논리 연산을 수행하는 장치로, ALU는 두 개의 입력 데이터를 받아서 사칙 연산, 비교 연산, 논리 연산 등을 수행하고, 그 결과를 출력한다.

**CPU의 동작방식**

명령어 사이클을 따르는데, 다음과 같이 4 단계로 구성된다. 

- **가져오기** : CU는 명령어를 메모리에서 가져온다. 이때 메모리의 위치는 다양할 수 있다. L2 캐시와 L1에 대한 참조는 구체적인 CPU의 구성에 따라서 다르지만, 일반적으로 가장 가까운 캐시인 L1에 명령어와 데이터의 일부가 결정된다. L1 캐시는 명령어와 데이터를 빠르게 접근할 수 있는 속도와 근접성을 제공한다. CU가 명령어를 가져오는 경우, L1 명령어 캐시에 명령어가 존재하는지 확인하고, 존재하지 않으면, 메인 메모리로부터 명령어를 가져온다. 이 단계에서 L1과 메인 메모리 간의 데이터 이동이 발생하며, L2는 L1의 부재 상황에서 참조된다.
- **해석** : CU는 가져온 명령어를 해석하여 실행에 필요한 정보를 추출한다.

---

- **실행** : ALU와 다른 장치를 사용하여 명령어를 실행하며, ALU는 산술 및 논리 연산을 수행하고, 메모리나 입출력 장치와 데이터를 주고받을 수 있다.
- **저장** : 실행된 명령어의 결과를 메모리에 저장하거나 다른 장치로 전송한다.

명령어 사이클은 CPU가 반복적으로 수행되며, 프로그램의 각 명령어를 순차적으로 실행한다. 이를 통해 CPU는 프로그램의 명령어를 해석하고 실행하여 원하는 작업을 수행할 수 있다. 


    💡 **프로그래밍 언어 >> 어셈플리어(CPU) >> 기계어(2진법) >> 동작을 수행하게 한다.**

**메모리란**

    💡 **연산 메모리**
    연산 메모리는 레지스터, 캐시메모리, 메인 메모리를 포함하며, 프로세서가 연산을 수행하는 동안 데이터를 임시로 저장하는 공간이다. 
    - 작업수행을 위해 연산데이터와 파일데이터를 보조기억장치로부터 가져와서 사용을 준비

**레지스터**

프로세서 내에 있는 작고 빠른 메모리 유닛으로, 데이터에 매우 빠르게 접근하며, 프로세스가 연산을 수행하는 동안 임시로 데이터를 저장하고 연산에 사용한다. 프로세서는 레지스터에 저장된 데이터를 사용하여 연산을 수행하고, 필요에 따라 메인 메모리나 캐시메모리로 데이터를 이동시킨다.

**캐시메모리**

`**프로세스**`와 `**주기억장치**`(메인메모리) 사이에 위치한 작고 빠른 메모리 유닛으로, 데이터의 지역성 원리를 활용하여 **프로세서가 자주 액세스 하는 데이터를 저장**한다. 프로세서는 데이터에 접근할 때, 먼저 캐시메모리에서 해당 데이터를 찾고, 캐시에 데이터가 존재하면 캐시 히트(Cache Hit)를 발생시켜, 빠르게 데이터에 접근한다. 이때 캐시에 데이터가 없으면, 주기억장치(메인메모리)로부터 데이터를 가져와 캐시에 저장한다. 이후에는 해당 데이터를 캐시에서 액세스 한다.


    💡 캐시 메모리는 레벨(L)로 구분되는 여러 개층으로 구성된다. 이들은 계층적인 구조를 형성하여 데이터 액세스의 속도와 용량을 최적화한다. 

    **L1 캐시(레벨 1캐시)**
    L1캐시는 프로세서 내부에 위치하며(CPU), 가장 가까운 캐시이다. 일반적으로 명령어와 데이터를 따로 저장하는 명령어 캐시와 데이터 캐시로 구분된다. 명령어 캐시는 다음에 실행할 명령어를 미리 가져와서 프로세서가 효율적으로 실행할 수 있도록 한다. 데이터 캐시는 연산에 필요한 데이터를 저장하여 빠른 액세스를 가능하게 하지만, 용량이 작다. 

    **L2 캐시(레벨 2캐시)**
    L1 캐시와 메인 메모리 사이에 존재하는 L2는 용량이 크지만, L1 캐시보다 상대적으로 느린 속도를 가진다. 다만 속도는 느리지만 더 많은 데이터를 자장할 수 있다. L2 캐시는 L1 캐시의 데이터를 보조하고, L1캐시가 액세스하는 데이터를 미리 가져와서 대기하고 있는다. 

    **L3 캐시(레벨 3캐시)**
    L2와 메인 메모리 사이에 위치하는 L3는 캐시메모리 가운데 가장 큰 용량을 가지며 다양한 코어 사이에서 데이터를 공유하고 전달하는 역할을 한다. 

    **정리하면,** 
    L1 캐시가 가장 빠르지만 용량이 작고, L2 캐시는 L1 캐시를 보완하여 용량을 늘리고, L3 캐시는 전체 프로세서에서 공유되는 용량이 큰 캐시이다. 이러한 계층 구조를 통해 데이터의 지역성을 활용하여 빠른 액세스와 전체 시스템 성능 향상을 가능하게 한다.

**메인메모리(주기억장치)**

`**프로세서**`와 `**보조메모리**` 사이에 위치한 주 기억장치로, 프로그램 실행에 필요한 데이터와 명령어들이 저장되는 공간이다. 랜덤 액세스 메모리(RAM)으로 구성되어 있으며, 주소에 기반하여 데이터에 접근한다. 프로세서는 데이터를 메인 메모리에서 읽어오거나 쓸 수 있으며, 연산 메모리로 데이터를 이동시킬 수 있다.


    💡 메인 메모리를 구성하는 것에는 **S램과, D램이 존재**한다. 
    **S램 - 정적 메모리 - 주로 캐시메모리의 L2와 L3가 여기서 구현된다.
    `대표: 그래픽카드, 네트워크 장비, 라우터, 통신 장비 등`**
    D램보다 더 빠르고 안정적인 액세스 시간을 제공하며, 데이터를 유지하기 위해 계속적인 갱신이 필요하지 않으므로 정적이라는 이름이 붙여졌다. S램은 주로 캐시 메모리와 같은 작은 용량의 고속 버퍼로 사용되며, 컴퓨터가 켜여 있는 동안 데이터가 유지된다. 

    **D램 - 동적 메모리
    `대표: DDR4, DDR5`**
    비교적 저렴하고 높은 용량을 제공하며, 가장 일반적으로 사용되는 메인 메모리 유형이다. 충전된 전하가 일정 시간 유지되는 캐패시턴스를 사용하여 데이터를 저장하기에, 데이터를 갱신해야 하므로 동적이라는 이름이 붙여였다. 

    **D램과 가비지컬렉터**
    가비지 컬렉터는 메인 메모리의 D램과 관련이 있다. D램은 주로 주 기억장치인 메인 메모리로 사용되며, 프로그램의 데이터와 명령어를 저장하는 공간이다. 가비지 컬렉터는 실행 중인 프로그램이 동적으로 할당한 메모리 중에서 더 이상 사용되지 않는 객체 또는 데이터를 식별하여 회수한다. 이를 통해 실행 중에 동적으로 할당된 메모리를 관리하여 불필요한 메모리 사용을 최소화하고, 메모리 누수를 방지하는 데 도움을 준다. 

    **정리하면,**
    D램은 주로 주 메인 메모리로 사용되며 비교적 높은 용량을 가지며, 주기적인 갱신이 필요하다. 반면 S램은 주로 고속 버퍼 메모리로 사용되고 빠른 액세스 시간과 안정적인 데이터 보존을 제공한다. S램은 주 메인 메모리보다 용량이 작지만, 연산에 필요한 데이터를 빠르게 액세스하는 용도로 사용할 수 있다.

**보조 메모리 : HDD, SSD**

HDD, SSD 등의 외부 저장 장치를 의미하며, 비휘발성 데이터 저장 공간으로, 파일 시스템을 통해 파일 데이터가 저장된다. 보조 메모리에 있는 파일 데이터는 필요에 따라 메인 메모리로 로드되어 프로세서에 의해 액세스 된다. 파일 데이터는 메인 메모리에 로드된 후에는 연산에 활용되거나 캐시메모리에 캐싱될 수 있다. 

**정리하면,** 

프로세서는 데이터를 레지스터, 캐시메모리, 메인 메모리를 통해 이동시키며, 필요에 따라 보조 메모리에 있는 파일 데이터를 메인 메모리로 로드하여 처리한다. 이러한 계층 구조를 통해 데이터의 접근 시간을 최적화하고 프로세서의 성능을 향상시킬 수 있다.    


<hr />
<details>
<summary>정리전 내용들</summary>
1. 컴퓨터의 구성
- 푸드트럭의 구성
- 컴퓨터의 구성
  - 컴퓨터가 이해하는 정보 : 데이터, 명령어
  - 컴퓨터의 네 가지 핵심 부품 : CPU, 메모리, 보조기억장치, 입출력장치 

2. 입출력 장치
- (주문서) 입력 장치 : 키보드 마우스 > 컴퓨터에게 명령을 요청하거나 데이터를 입력 
- (메뉴판, 음식수령대) 출력 장치 : 모니터 > 사용자에게 데이터를 보여주거나 처리결과를 보여주는 창구 

3. CPU : (요리사가 레시피에 따라 음식을 제작) 사용자의 명령에 대한 작업을 수행하는 처리장치
- CPU의 구성
  - ALU(우뇌, 산술논리 연산장치) : 비교, 판단 연산을 담당
  - CU(좌뇌, 제어부)와 내부버스 : 레시피 순서대로 스케줄을 제어부를 담당, CPU를 내부적으로 제어(각 장치를 연결)
  - 메모리 유닛(레지스터 "처리할 명령어를 저장", 캐시 메모리(L1) "왼손은 거들뿐, 처리속도를 높여줍니다, 부스터")
    - 레지스터
      - 메모리주소 레지스터 : 주기억장치의 주소를 저장
      - 프로그램 카운터 : 다음에 수행할 명령어의 주소를 저장
      - 명령어 레지스터 : 현재 실행 중인 명령어를 저장
      - 메모리 버퍼 레지스터 : 주기억장차에서 읽어온 데이터나 저장할 데이터를 임시로 저장
      - 누산기 : 연산 결과를 임시로 저장 

- CPU의 동작
  - 2진법(0,1 의 기계어 >> 어셈블리어 >> 사람이 알아볼 수 있도록 변환한 것이 프로그래밍 언어) 
  - 기계어(저장공간) >>  어셈블리어(CPU) >> 프로그래밍 언어(사람)
  - (1) 명령어 인출 : CU가 이번에 수행할 명령어를 가져옵니다.
  - (2) 명령어 해독 : opcode 명령어로 해독하고, 코드를 인출, 그에 맞는 레지스터들을 준비
  - (3) 실행 : 해독된 명령어를 수행, ALU가 주체가 되어서 실행
  - (4) 반영 : 명령어의 수행 결과를 반영하며, 한 사이클이 끝남

- CPU의 성능
  - 클럭 : 1기가 헤르트(1초에 1기가만큼, 1024메가, 10억 번 정도 처리하는 것을 말합니다.)
    - 4.5GHz 라는 것은 초당 45억번의 명령어를 처리
  - 코어 : 중앙처리 장치, 멀티코어는 많은 연산을 빠르게 병렬처리한다는 것을 말합니다.   

4. 메모리 : (요리주문에 대해서 재료들을 둘 공간, 재료냉장고)
- 레지스터(메모리는 아니고, CPU)
- 캐시 메모리(L2, L3 => SRAM) : 휘발성 메모리, 전원이 꺼지면 지워짐, 제일 빠르게 조회할 수 있는 공간 
  - 메모리에서 작지만 비싼 메모리
  - 해당 요리를 만들기 위해서, 조리대에 올려놓는 메모리라고 생각합니다. 
  - L2, L3 캐시메모리는 CPU와 별도의 공간, 메인 메모리와 CPU 간의 속도차이를 극복하기 위한 것이라면
  - CPU 레지스터는 CPU 안에서 연산을 처리하기 위하여 데이터를 저장하는 공간
- 주 기억장치(메인 메모리, DRAM)
  - 역시 휘발성 메모리지만, 조금더 빠르게 저장할 수 있는 저장공간, 
  - Random Access Memory - 저장된 데이터를 순차적이 아닌 임의의 순서로 액세스할 수 있는 데이터 저장소
  - RAM은 DRAM과 SRAM이 있으나 주로 DRAM을 의미한다. 
  - SRAM : 정적 메모리, 전원공급되는 동안 내용은 사라지지 않으며, 재충전이 필요없다. 
  - DRAM : 동적 메모리, 전원이 공급되더라도, 주기적으로 재충전 되어야 기억된 내용을 유지할 수 있다. 
- 보조 기억장치(HDD, 하드디스크)
  - 전원이 꺼져도 지워지지 않는 저장공간 , 데이터와 프로그램을 반영구정으로 저장, 비휘발성 메모리 

- [삼성자산운용](https://www.youtube.com/watch?v=GlWhOm7B1CM)  
  - 메모리 반도체 : 정보를 저장 
    - 정보를 기억합니다. RAM, ROM
    - RAM(책장과 책상을 생각해봅시다 => 정보(책) 책상이 RAM)
      - 전원이 꺼지면, 정보가 사라지기에 휘발성 메모리 
      - [정보저장방식에 따라] D램, S램
      - D램:(동적) 저장된 정보가 시간이 흐름에 따라 소멸되는 반도체, 컴퓨터의 기억소자, 용량이 크고 처리속도가 빠름
      - S램:(정적)전원을 공급하는 한 데이터를 공급(회로가 복잡), 그래픽 카드 

  - 비메모리 반도체 : 정보를 처리

5. CPU와 메모리
- CPU와 메모리의 동작
- CPU와 메모리의 구조
- 최근 이슈
- 컴퓨터 구성 한눈에 보기 
</details>